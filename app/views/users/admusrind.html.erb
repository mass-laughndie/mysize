<% provide(:title, '管理者ページ') %>
<% provide(:og_title, '管理者ページ') %>
<% provide(:og_url, admusrind_url) %>

<div class="content-sspace search-space">
  <div class="fixed fixed-top search-height">
    <%= render 'shared/search_form' %>
  </div>
</div>
<% unless params[:keyword].nil? %>
  <div class="content-nspace">
    <div class="c select search-select">
      <div class="select-list search-list alist aline">
        <%= link_to "ユーザー", admusrind_path(for: 'user', keyword: params[:keyword]) %>
      </div>
      <div class="select-list search-list alist aline">
        <%= link_to "投稿", admusrind_path(for: 'post', keyword: params[:keyword]) %>
      </div>
      <div class="select-list search-list alist aline">
        <%= link_to "コメント", admusrind_path(for: 'com', keyword: params[:keyword]) %>
      </div>
    </div>
    <div class="search-result">
      <% if params[:for] == 'post' && @kicksposts.any? %>
        <div class="post-main">
          <ul>
            <% @kicksposts.each do |kickspost| %>
              <%= render partial: 'shared/admin_post_main',
                         locals: { post: kickspost,
                                   type: 'Kickspost' } %>
            <% end %>
          </ul>
        </div>
      <% elsif params[:for] == 'com' && @comments.any? %>
        <div class="post-main">
          <ul>
            <% @comments.each do |comment| %>
              <%= render partial: 'shared/admin_post_main',
                         locals: { post: comment,
                                   type: 'Comment' } %>
            <% end %>
          </ul>
        </div>
      <% elsif (params[:for] == 'user' || params[:for].blank?) && @users.any? %>
        <div class="setting-select">
          <ul>
            <% @users.each do |user| %>
              <%= render partial: 'users/auser',
                         locals: { user: user } %>
            <% end %>
          </ul>
        </div>
      <% else %>
        <%= render partial: 'shared/no_data',
                   locals: { icon: nil,
                             text: 'search-no-hit' } %>
      <% end %>
    </div>
  </div>
<% else %>
  <%= render partial: 'shared/no_data',
             locals: { icon: 'search',
                       text: 'search' } %>
<% end %>